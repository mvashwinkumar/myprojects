<div class="bs-example">
    <div class="navbar navbar-default navbar-fixed-top">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#"><img src="/BasketApp/images/brand_logo_inverse_small_v2.png" ></a>
        </div>
        {{#isAuthenticated this}}
        <div class="navbar-collapse collapse navbar-responsive-collapse">
<!--            <ul class="nav navbar-nav">                
                <li><a href="#" class="basket-nav" id="editCustomerBtn">Edit Customer Profile</a></li>
            </ul>-->
            <form class="navbar-form navbar-left" style="margin-top:10px;min-width:500px">
               
                <div class="col-xs-6">
                    
               <input type="text" id="searchInput" class="twitter-typeahead tt-query " placeholder="Product Filter">
               
                </div>
                <div class="col-xs-6">
                    <label style="color:white"><span class="glyphicon glyphicon-usd"></span></label>
                    <select id="currencySelector" class="form-control">
                        <option value="SGD" selected="true" data-rate="1.0" data-symbol="SGD $" data-fullname="Singapore">Singapore Dollars</option>
                        <option value="HKD" data-rate="1.0" data-symbol="HKD $" data-fullname="Hong Kong">HongKong Dollars</option>
                        <option value="USD" data-rate="1.0" data-symbol="USD $" data-fullname="USA">US Dollars</option>
                        <option value="JPY" data-rate="1.0" data-symbol="JPY Â¥" data-fullname="Japan">Japanese Yen</option>
                    </select>
                </div>
            </form>

            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown" id="subscriptionDropDown" style="margin-top:3px">
                    <a href="#" data-toggle="dropdown" class="dropdown-toggle"> 
                        <span class="glyphicon glyphicon-tag"></span>
                        Subscriptions &nbsp;<span id="subscriptionNotification" class="badge" style="background-color: #cd0a0a;color:white">0</span></a>
                    <div class="dropdown-menu" style="background-color:white;min-width:200px;border-radius:10px">
                        <div id="subscriptionNavContent">
                        
                        </div>
                    </div>
                </li>
                <li class="dropdown" id="cartDropDown" style="margin-top:3px">
                    <a href="#" data-toggle="dropdown" id="btnCart" class="dropdown-toggle">
                        <span class="glyphicon glyphicon-shopping-cart"></span>
                        My Cart &nbsp; <span id="cartCounter" class="badge" style="color:#ffffff;background-color: #269abc"></span></a>

                    <div class="dropdown-menu" style="background-color:white;border-radius:5px;min-width:500px">

                        <div>
                            <table class="table" width="100%">

                                <thead>
                                    <tr>
                                        <th>Product Name</th>
                                        <th>Quantity</th>
                                        <th>Unit Price</th>
                                        <th>Sub Total</th>
                                    </tr>                        
                                </thead>
                                <tbody id="cartContents">
                                </tbody>
                            </table>
                        </div>
                </li>

                <li class="dropdown">
                    <a href="#" class="dropdown-toggle basket-nav" data-toggle="dropdown" >
                        <span class="glyphicon glyphicon-user"></span>
                        {{username}} <b class="caret"></b>&nbsp;</a>
                    <ul class="dropdown-menu" style="border-radius:5px;">
                        <li>
                            <div class="well-sm col-sm-12">
                                <div class="col-sm-12">{{name}}</div>
                                
                                <li>                                
                                    <a id="logoutBtn" class="basket-nav"><span class="glyphicon glyphicon-log-out"></span> Logout</a>
                                
                                </li>
                                <li><a href="#" class="basket-nav" id="editCustomerBtn">
                                        <span class="glyphicon glyphicon-pencil"></span>
                                        Edit Customer Profile</a></li>
                                
                            </div>
                        </li>
                        
                    </ul>
                </li>
            </ul>
        </div><!-- /.nav-collapse -->
        {{/isAuthenticated}}
    </div><!-- /.navbar -->
</div>
    <script type="text/javascript">
        $(function(){
           initCurrencyConverter();
           $("#editCustomerBtn").click(editCustomer);
           $("#logoutBtn").click(function(){
              window.location.href = "http://localhost:8080/BasketApp/logout"; 
           });
           
           //search input handler
           $("#searchInput").keyup(function(event)
           {
               
               if(event.keyCode==13)
               {
                   //initiate the product load
                   currentPage=1;
                   filterProducts();
                   //clear the field
                   //$("#searchInput").val("");
               }
           });
           
        });
        
    </script>   
     